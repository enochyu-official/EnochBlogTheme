<footer class="mt-5 py-4 text-center">
  <div class="container">
    <a class="mb-0" href="https://github.com/enochyu-official" target="_blank" rel="noopener noreferrer">
      &copy; {{ now.Year }} {{ .Site.Params.author }}. All Rights Reserved.
    </a>
  </div>

  <script data-goatcounter="https://enochyu.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>

  <script>
    (function () {
      fetch("https://enochyu.goatcounter.com/counter/TOTAL.json?cb=" + Date.now())
        .then(r => {
          if (!r.ok) throw new Error("HTTP " + r.status);
          return r.json();
        })

        .then(d => {
          const el = document.getElementById("gc-total-views");
          if (el) el.textContent = d.count;
        })

        .catch(err => {
          const el = document.getElementById("gc-total-views");

          if (el) el.textContent = "ERR";
          console.error("GoatCounter:", err); 
        });
    })();
  </script>

  <script>
    let r = new XMLHttpRequest();
    r.addEventListener('load', function() {
        document.querySelector('.page-views').innerText = JSON.parse(this.responseText).count
    })

    let path = window.goatcounter.get_data()['p']

    r.open('GET', 'https://enochyu.goatcounter.com/counter/' + encodeURIComponent(path) + '.json')
    r.send()
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['\\[', '\\]'], ['$$', '$$']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-svg.js"></script>
</footer>
